{"version":4,"terraform_version":"1.9.0","serial":2,"lineage":"ae0319b6-977c-e189-588a-aa1d51e01751","outputs":{},"resources":[{"mode":"data","type":"aws_ami","name":"ubuntu_jammy_amd64","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","arn":"arn:aws:ec2:us-west-2::image/ami-0606dd43116f5ed57","block_device_mappings":[{"device_name":"/dev/sda1","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-013b99a827895afb0","throughput":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""},{"device_name":"/dev/sdb","ebs":{},"no_device":"","virtual_name":"ephemeral0"},{"device_name":"/dev/sdc","ebs":{},"no_device":"","virtual_name":"ephemeral1"}],"boot_mode":"uefi-preferred","creation_date":"2025-01-12T04:14:24.000Z","deprecation_time":"2027-01-12T04:14:24.000Z","description":"Canonical, Ubuntu, 22.04, amd64 jammy image","ena_support":true,"executable_users":null,"filter":[{"name":"architecture","values":["x86_64"]},{"name":"name","values":["ubuntu/images/*ubuntu-jammy-22.04-amd64-server-*"]},{"name":"root-device-type","values":["ebs"]},{"name":"virtualization-type","values":["hvm"]}],"hypervisor":"xen","id":"ami-0606dd43116f5ed57","image_id":"ami-0606dd43116f5ed57","image_location":"amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20250112","image_owner_alias":"amazon","image_type":"machine","imds_support":"","include_deprecated":false,"kernel_id":"","most_recent":true,"name":"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20250112","name_regex":null,"owner_id":"099720109477","owners":["099720109477"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/sda1","root_device_type":"ebs","root_snapshot_id":"snap-013b99a827895afb0","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","uefi_data":null,"usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_availability_zones","name":"available","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-west-2-zg-1"],"id":"us-west-2","names":["us-west-2a","us-west-2b","us-west-2c","us-west-2d"],"state":null,"timeouts":null,"zone_ids":["usw2-az2","usw2-az1","usw2-az3","usw2-az4"]},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_instance","name":"k8s_cluster_instance","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":"controlplane01","schema_version":1,"attributes":{"ami":"ami-0606dd43116f5ed57","arn":"arn:aws:ec2:us-west-2:919980474747:instance/i-0dfc9b98d851e5926","associate_public_ip_address":true,"availability_zone":"us-west-2a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0dfc9b98d851e5926","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.small","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"kthw-keypair","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-09cce366c2c56ff42","private_dns":"ip-10-0-101-227.us-west-2.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.101.227","public_dns":"ec2-34-216-107-156.us-west-2.compute.amazonaws.com","public_ip":"34.216.107.156","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0707471ae153eacda","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["sg-0612a24ec72e99ed7"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0b5ed2b7718140ab0","tags":{"Group":"controlplane","Name":"controlplane01","Project":"Kubernetes the Hard Way"},"tags_all":{"Group":"controlplane","Name":"controlplane01","Project":"Kubernetes the Hard Way"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0612a24ec72e99ed7"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.controlplane_sg","aws_security_group.worker_sg","data.aws_ami.ubuntu_jammy_amd64","data.aws_availability_zones.available","module.kthw_vpc.aws_subnet.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"index_key":"controlplane02","schema_version":1,"attributes":{"ami":"ami-0606dd43116f5ed57","arn":"arn:aws:ec2:us-west-2:919980474747:instance/i-07081c1b116542b86","associate_public_ip_address":true,"availability_zone":"us-west-2a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-07081c1b116542b86","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.small","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"kthw-keypair","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-06f6af27fc5d66a0f","private_dns":"ip-10-0-101-177.us-west-2.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.101.177","public_dns":"ec2-52-12-220-83.us-west-2.compute.amazonaws.com","public_ip":"52.12.220.83","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0b56c1c7c117e5816","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["sg-0612a24ec72e99ed7"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0b5ed2b7718140ab0","tags":{"Group":"controlplane","Name":"controlplane02","Project":"Kubernetes the Hard Way"},"tags_all":{"Group":"controlplane","Name":"controlplane02","Project":"Kubernetes the Hard Way"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0612a24ec72e99ed7"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.controlplane_sg","aws_security_group.worker_sg","data.aws_ami.ubuntu_jammy_amd64","data.aws_availability_zones.available","module.kthw_vpc.aws_subnet.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"index_key":"node01","schema_version":1,"attributes":{"ami":"ami-0606dd43116f5ed57","arn":"arn:aws:ec2:us-west-2:919980474747:instance/i-0456c595792df0079","associate_public_ip_address":true,"availability_zone":"us-west-2a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0456c595792df0079","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.small","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"kthw-keypair","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-08f8e02b238103658","private_dns":"ip-10-0-101-27.us-west-2.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.101.27","public_dns":"ec2-34-212-98-239.us-west-2.compute.amazonaws.com","public_ip":"34.212.98.239","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0bc752f20cab5320c","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["sg-052db50abc268c615"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0b5ed2b7718140ab0","tags":{"Group":"workers","Name":"node01","Project":"Kubernetes the Hard Way"},"tags_all":{"Group":"workers","Name":"node01","Project":"Kubernetes the Hard Way"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-052db50abc268c615"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.controlplane_sg","aws_security_group.worker_sg","data.aws_ami.ubuntu_jammy_amd64","data.aws_availability_zones.available","module.kthw_vpc.aws_subnet.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"index_key":"node02","schema_version":1,"attributes":{"ami":"ami-0606dd43116f5ed57","arn":"arn:aws:ec2:us-west-2:919980474747:instance/i-0e783283634297406","associate_public_ip_address":true,"availability_zone":"us-west-2a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0e783283634297406","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.small","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"kthw-keypair","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0d4a2fee716f52414","private_dns":"ip-10-0-101-17.us-west-2.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.101.17","public_dns":"ec2-18-236-200-202.us-west-2.compute.amazonaws.com","public_ip":"18.236.200.202","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-05a8dc30d45efd97c","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":["sg-052db50abc268c615"],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0b5ed2b7718140ab0","tags":{"Group":"workers","Name":"node02","Project":"Kubernetes the Hard Way"},"tags_all":{"Group":"workers","Name":"node02","Project":"Kubernetes the Hard Way"},"tenancy":"default","timeouts":null,"user_data":null,"user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-052db50abc268c615"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.controlplane_sg","aws_security_group.worker_sg","data.aws_ami.ubuntu_jammy_amd64","data.aws_availability_zones.available","module.kthw_vpc.aws_subnet.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"mode":"managed","type":"aws_security_group","name":"controlplane_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:security-group/sg-0612a24ec72e99ed7","description":"Allow inbound traffic from SSH and Network LB","egress":[],"id":"sg-0612a24ec72e99ed7","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":[],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-09b4af302c6d7b5df"],"self":false,"to_port":80}],"name":"controlplane-sg","name_prefix":"","owner_id":"919980474747","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group","name":"nlb_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:security-group/sg-09b4af302c6d7b5df","description":"Allow outside traffic in to the network load balancer","egress":[],"id":"sg-09b4af302c6d7b5df","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"nlb-sg","name_prefix":"","owner_id":"919980474747","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group","name":"worker_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:security-group/sg-052db50abc268c615","description":"Allow inbound traffic from SSH and control-plane-sg","egress":[],"id":"sg-052db50abc268c615","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":[],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0612a24ec72e99ed7"],"self":false,"to_port":80}],"name":"worker-sg","name_prefix":"","owner_id":"919980474747","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group_rule","name":"control_nlb_ingress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"cidr_blocks":null,"description":null,"from_port":80,"id":"sgrule-3221127146","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-0612a24ec72e99ed7","security_group_rule_id":"sgr-0b604d4d71285ef49","self":false,"source_security_group_id":"sg-09b4af302c6d7b5df","timeouts":null,"to_port":80,"type":"ingress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.controlplane_sg","aws_security_group.nlb_sg","module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group_rule","name":"control_ssh_ingress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"id":"sgrule-185307380","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-0612a24ec72e99ed7","security_group_rule_id":"sgr-0e704d3aa43a0e9c6","self":false,"source_security_group_id":null,"timeouts":null,"to_port":22,"type":"ingress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.controlplane_sg","module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group_rule","name":"nlb_outside_ingress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-1466469781","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-09b4af302c6d7b5df","security_group_rule_id":"sgr-0ff08c8333ac5a63a","self":false,"source_security_group_id":null,"timeouts":null,"to_port":80,"type":"ingress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.nlb_sg","module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group_rule","name":"worker_control_ingress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"cidr_blocks":null,"description":null,"from_port":80,"id":"sgrule-240191992","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-052db50abc268c615","security_group_rule_id":"sgr-0465e20134afe9f50","self":false,"source_security_group_id":"sg-0612a24ec72e99ed7","timeouts":null,"to_port":80,"type":"ingress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.controlplane_sg","aws_security_group.worker_sg","module.kthw_vpc.aws_vpc.this"]}]},{"mode":"managed","type":"aws_security_group_rule","name":"worker_ssh_ingress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"id":"sgrule-1123675234","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-052db50abc268c615","security_group_rule_id":"sgr-01fd91b9e9d066de2","self":false,"source_security_group_id":null,"timeouts":null,"to_port":22,"type":"ingress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.worker_sg","module.kthw_vpc.aws_vpc.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_default_network_acl","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:network-acl/acl-04f074fe894638bcd","default_network_acl_id":"acl-04f074fe894638bcd","egress":[{"action":"allow","cidr_block":"","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"::/0","protocol":"-1","rule_no":101,"to_port":0},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"id":"acl-04f074fe894638bcd","ingress":[{"action":"allow","cidr_block":"","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"::/0","protocol":"-1","rule_no":101,"to_port":0},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":0,"icmp_type":0,"ipv6_cidr_block":"","protocol":"-1","rule_no":100,"to_port":0}],"owner_id":"919980474747","subnet_ids":["subnet-0b5ed2b7718140ab0"],"tags":{"Name":"kthw-default"},"tags_all":{"Name":"kthw-default"},"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_default_route_table","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:route-table/rtb-0e1a24bd42afeb7b4","default_route_table_id":"rtb-0e1a24bd42afeb7b4","id":"rtb-0e1a24bd42afeb7b4","owner_id":"919980474747","propagating_vgws":[],"route":[],"tags":{"Name":"kthw-default"},"tags_all":{"Name":"kthw-default"},"timeouts":{"create":"5m","update":"5m"},"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_default_security_group","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:security-group/sg-0bd2646c0b3ae89da","description":"default VPC security group","egress":[],"id":"sg-0bd2646c0b3ae89da","ingress":[],"name":"default","name_prefix":"","owner_id":"919980474747","revoke_rules_on_delete":false,"tags":{"Name":"kthw-default"},"tags_all":{"Name":"kthw-default"},"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["module.kthw_vpc.aws_vpc.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_internet_gateway","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:internet-gateway/igw-0284aae1564b3431b","id":"igw-0284aae1564b3431b","owner_id":"919980474747","tags":{"Name":"kthw"},"tags_all":{"Name":"kthw"},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_route","name":"public_internet_gateway","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0284aae1564b3431b","id":"r-rtb-0bc48ee9cfe49b15e1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0bc48ee9cfe49b15e","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["data.aws_availability_zones.available","module.kthw_vpc.aws_internet_gateway.this","module.kthw_vpc.aws_route_table.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_route_table","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:route-table/rtb-0bc48ee9cfe49b15e","id":"rtb-0bc48ee9cfe49b15e","owner_id":"919980474747","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0284aae1564b3431b","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"kthw-public"},"tags_all":{"Name":"kthw-public"},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["data.aws_availability_zones.available","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_route_table_association","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-00b9bb120cfa6d81a","route_table_id":"rtb-0bc48ee9cfe49b15e","subnet_id":"subnet-0b5ed2b7718140ab0","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["data.aws_availability_zones.available","module.kthw_vpc.aws_route_table.public","module.kthw_vpc.aws_subnet.public","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_subnet","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:subnet/subnet-0b5ed2b7718140ab0","assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","availability_zone_id":"usw2-az2","cidr_block":"10.0.101.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0b5ed2b7718140ab0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"919980474747","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"kthw-public-us-west-2a"},"tags_all":{"Name":"kthw-public-us-west-2a"},"timeouts":null,"vpc_id":"vpc-042d66d091f0ad7d2"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["data.aws_availability_zones.available","module.kthw_vpc.aws_vpc.this","module.kthw_vpc.aws_vpc_ipv4_cidr_block_association.this"]}]},{"module":"module.kthw_vpc","mode":"managed","type":"aws_vpc","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-west-2:919980474747:vpc/vpc-042d66d091f0ad7d2","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-04f074fe894638bcd","default_route_table_id":"rtb-0e1a24bd42afeb7b4","default_security_group_id":"sg-0bd2646c0b3ae89da","dhcp_options_id":"dopt-c8ac9ead","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-042d66d091f0ad7d2","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0e1a24bd42afeb7b4","owner_id":"919980474747","tags":{"Name":"kthw"},"tags_all":{"Name":"kthw"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
